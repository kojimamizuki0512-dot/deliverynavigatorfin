/* Tailwind */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ====== Theme tokens ====== */
:root{
  --bg-deep: #071414;
  --glass-fill-from: rgba(255,255,255,0.06);
  --glass-fill-to:   rgba(255,255,255,0.02);
  --glass-stroke:    rgba(255,255,255,0.10);
  --glass-inner:     rgba(255,255,255,0.20);
  --emerald: #10b981; /* Tailwind emerald-500 近傍 */
  --emerald-soft: rgba(16,185,129,.20);
}

/* ====== App background (深い暗緑＋放射グラデ) ====== */
html,body,#root{height:100%;}
body{
  @apply text-neutral-200 antialiased;
  background:
    radial-gradient(1200px 600px at 50% -10%, rgba(16,185,129,.18), transparent 60%),
    radial-gradient(900px 500px at 80% 20%, rgba(16,185,129,.12), transparent 60%),
    linear-gradient(180deg, #0b1211 0%, var(--bg-deep) 100%);
}

/* ====== Glass card ====== */
.glass{
  /* グラス塗り */
  background:
    linear-gradient(180deg, var(--glass-fill-from), var(--glass-fill-to));
  border: 1px solid var(--glass-stroke);
  border-radius: 22px;
  /* 影と内側のハイライト */
  box-shadow:
    0 10px 26px rgba(0,0,0,.45),
    inset 0 1px 0 var(--glass-inner);
  /* ぼかし */
  -webkit-backdrop-filter: blur(14px);
  backdrop-filter: blur(14px);
}

/* カード見出しのトリム */
.card-title{
  @apply text-[22px] leading-tight font-semibold tracking-wide;
}

/* ====== Progress (pill) ====== */
.pill-track{
  height: 12px;
  border-radius: 9999px;
  background: rgba(255,255,255,.10);
  overflow: hidden;
}
.pill-fill{
  height: 100%;
  border-radius: 9999px;
  background:
    radial-gradient(40px 40px at 20% 50%, rgba(255,255,255,.25), transparent 60%),
    linear-gradient(90deg, rgba(16,185,129,.85) 0%, rgba(16,185,129,.55) 100%);
  box-shadow: 0 0 18px var(--emerald-soft), 0 0 2px rgba(16,185,129,.8) inset;
  transition: width .4s ease;
}

/* ====== AIカード内パネル（薄い黒 + 丸） ====== */
.subpanel{
  background: rgba(0,0,0,.35);
  border: 1px solid rgba(255,255,255,.06);
  border-radius: 18px;
}

/* ====== TabBar ====== */
.tabbar{
  position: sticky; /* iOS Safでも固定されやすい */
  bottom: 0;
  z-index: 40;
  padding: 10px 14px calc(10px + env(safe-area-inset-bottom));
  border-top: 1px solid rgba(255,255,255,.08);
  background:
    linear-gradient(180deg, rgba(0,0,0,.25), rgba(0,0,0,.35));
  -webkit-backdrop-filter: blur(16px);
  backdrop-filter: blur(16px);
}
.tabbtn{
  @apply flex flex-col items-center justify-center gap-1 text-[12px] rounded-2xl px-4 py-2 transition-colors;
  color: rgba(255,255,255,.75);
}
.tabbtn--active{
  background: rgba(16,185,129,.15);
  color: white;
  box-shadow: 0 0 0 1px rgba(16,185,129,.25) inset, 0 0 18px var(--emerald-soft);
}

/* ====== 小物 ====== */
.title-large{
  @apply text-[34px] font-extrabold tracking-wide text-white text-center;
}
.caption{
  @apply text-sm text-neutral-400;
}
.btn-ghost{
  @apply rounded-xl border border-white/15 bg-white/5 hover:bg-white/10 text-white text-sm;
}

/* 入力の見た目（iOSでplaceholder薄すぎを防ぐ） */
input::placeholder, textarea::placeholder{
  color: rgba(255,255,255,.55);
}

/* iOSのゴムバンドで背景が白く見えないように */
@supports (color: color(display-p3 1 1 1)){
  body{ background-color: color(display-p3 0.03 0.07 0.06); }
}
